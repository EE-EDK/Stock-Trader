# Sentiment Velocity Tracker Configuration Template
# Copy this file to config.yaml and fill in your actual values

# API Keys (get free keys from each provider)
api_keys:
  # REQUIRED
  finnhub: "YOUR_FINNHUB_KEY"              # https://finnhub.io/register (FREE tier: 60 calls/min)

  # OPTIONAL BUT RECOMMENDED (all FREE!)
  alphavantage: "YOUR_ALPHAVANTAGE_KEY"    # https://www.alphavantage.co/support/#api-key (FREE: 100 calls/day for sentiment)
  fmp: "YOUR_FMP_KEY"                      # https://site.financialmodelingprep.com/developer/docs/pricing (FREE: 250 calls/day)

  # Reddit API (FREE - instant approval)
  # Get at: https://www.reddit.com/prefs/apps (create app -> get client_id & secret)
  reddit:
    client_id: "YOUR_REDDIT_CLIENT_ID"
    client_secret: "YOUR_REDDIT_SECRET"
    user_agent: "stock-tracker:v1.0 (by u/yourusername)"

  # LEGACY (optional)
  fred: "YOUR_FRED_KEY"                    # https://fred.stlouisfed.org/docs/api/api_key.html

# Database
database:
  path: "data/sentiment.db"

# Collection settings
collection:
  apewisdom:
    interval_hours: 4        # How often to collect
    top_n: 100               # How many tickers to track
  openinsider:
    interval_hours: 24       # Once daily
    min_value: 25000         # Minimum transaction value
  finnhub:
    interval_hours: 4
    rate_limit_per_min: 55   # Stay under 60/min free tier limit

  # NEW FREE DATA SOURCES
  alphavantage:
    enabled: true            # Enable Alpha Vantage sentiment (100 calls/day)
    top_n: 20                # Analyze top 20 tickers to save API calls
    articles_per_ticker: 50  # News articles to analyze per ticker

  yfinance:
    enabled: true            # Enable Yahoo Finance (unlimited, free!)
    collect_fundamentals: true
    collect_analyst_ratings: true

  vader_sentiment:
    enabled: true            # Enable local VADER sentiment (no API calls!)
    scrape_headlines: true   # Scrape Google News + Yahoo Finance headlines

  reddit:
    enabled: false           # Set to true if you have Reddit API credentials
    subreddits: ["wallstreetbets", "stocks", "investing"]
    lookback_hours: 24       # How far back to analyze posts

  technical_analysis:
    enabled: true            # Enable technical analysis (no API calls!)
    lookback_days: 50        # Days of price history to analyze

  fred:
    enabled: false           # Enable FRED macro indicators (100 calls/day)
    # Get free API key: https://fred.stlouisfed.org/docs/api/api_key.html
    collect_vix: true        # Market volatility index
    collect_rates: true      # Interest rates (10Y Treasury)
    collect_unemployment: true  # Unemployment rate
    collect_inflation: true  # CPI (inflation)
    collect_forex: true      # USD/EUR exchange rate

  congress:
    enabled: true            # Enable Congress stock trades tracking (100% FREE!)
    # Data source: House Stock Watcher API (no API key needed)
    # Tracks stock purchases/sales by US Representatives and Senators
    lookback_days: 90        # Collect trades from last 90 days

# Paper Trading (track mock purchases to validate signals)
paper_trading:
  enabled: true              # Enable paper trading system
  min_conviction: 70         # Only trade signals with conviction >= 70 (more selective)
  position_size: 1000        # Base position size in dollars ($1000)
  max_open_positions: 10     # Maximum concurrent positions

  # Exit strategy (Moderate)
  hold_days: 30              # Auto-close after 30 days
  stop_loss_pct: -10         # Exit if down 10%
  take_profit_pct: 20        # Exit if up 20%

  # Reporting
  report_in_dashboard: true  # Include in HTML dashboard
  backfill_days: 30          # Backfill trades from last 30 days on first run

# Backtesting (validate signals against historical data)
backtesting:
  initial_capital: 10000     # Starting capital for backtest ($10,000)
  position_size: 1000        # Base position size ($1,000)
  max_positions: 10          # Maximum concurrent positions
  conviction_weighted: true  # Use conviction-weighted sizing (like paper trading)

  # Exit strategy (same as paper trading for comparison)
  hold_days: 30              # Maximum hold period
  stop_loss_pct: -10         # Stop loss threshold
  take_profit_pct: 20        # Take profit target

  # Filtering
  min_conviction: 70         # Only backtest signals >= 70 conviction (more selective)

# Signal thresholds (tuned for better quality - based on backtest results)
thresholds:
  velocity_spike:
    mention_vel_24h_min: 150     # 150%+ increase in 24h (more selective than 100%)
    composite_score_min: 70       # Minimum composite score (stricter)
  insider_cluster:
    min_insiders: 2               # At least 2 insiders buying
    lookback_days: 14             # Within 14 days
    min_value_total: 100000       # $100k+ total insider buying
  sentiment_flip:
    sentiment_delta_min: 0.3      # 30%+ shift in sentiment
    lookback_days: 7
  combined:
    velocity_score_min: 50        # Lower threshold when combined with insider
    requires_insider: true        # Must have insider activity
  minimum_conviction: 70          # Only report high-quality signals (was 40)

# Email settings
email:
  enabled: true
  smtp_server: "smtp.gmail.com"
  smtp_port: 587
  sender: "your-email@gmail.com"
  password: "your-app-password"  # Use Gmail app password, not regular password
  recipients:
    - "your-email@gmail.com"

# Report settings
report:
  include_charts: true
  max_signals: 10            # Top N signals to include in report
  include_watchlist: true    # Include full velocity rankings
  watchlist_size: 20         # Number of tickers in watchlist
